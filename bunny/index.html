<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script><!-- --- Jquery --- -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
   
    <style>
      body{
       margin: 0px auto;
       font-family: "proxima-nova",sans-serif;
       background-color: #222032;

      }






      #preloader {
    margin-left: 15000px;
    position: fixed;
    color: white;
}


      #preloader img{
        height: 50px;
        width: auto;
      }




      #precargador {
    background-color: #0b0a10;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    height: 100%;
    /* width: 100vw; */
    position: absolute;
    width: 100%;
    overflow: hidden;
}
#precargador h1{
  color: white;
}
#precargador button{    margin-top: 25px;}
#porcentaje_contenedor {
    background-color: black;
    color: white;
    height: 20px;
    display: flex;
    position: relative;
}
#porcentaje_contenedor #barra {
    background-color: white;
    display: block;
    width: 0%;
    height: 100%;
}
#porcentaje_contenedor #porcentaje {
    color: #f7f7f7;
    top: 2px;
    position: absolute;
    width: 100%;
    height: 100%;
    text-align: center;
    font-family: "proxima-nova",sans-serif;
    mix-blend-mode: difference;
}









      #principal{
        display: flex;
    width: 100%;
    height: 100vh;
      }
      img{
        /* background-color: red; */
        /* position: absolute; */
      }
    container{
      display: block;
      /* background-color: red; */
      background-color: #677589;
    height: 100%;
    /* width: 900px; */
    width: 45%;
    position: relative;
    }


    
    .UI_section{
      display: none;

    }
    .UI_section img{
      height: 100px;

    }
.buttons_container{
  background-color: black;
    margin-bottom: 10px;
    padding: 6px;
}

    @media (max-width: 990px){  
      container{width: 65%;}  

      .UI_section img{
      height: 60px;

    }
      
      
       }
    @media screen and (orientation:portrait) {
      #principal {
    display: block!important;
    width: 100%;
    height: 100vh;
}
container {
    /* width: 65%; */
    width: 100%;
    height: 65vh;
}
    
    }
    .dress_up_part{
      display: block;
      /* background-color: #677589; */
    height: 100%;
    width: 100%;
    background-image: -moz-element();
    /* background-image: url(img/base.png); */
    background-position: center;
    background-size: cover;
    position: absolute;
    }
    button{
      padding: 5px;
      margin: 2px;
      cursor: pointer;
    }







    </style>
  </head>
<body >
  <div id="preloader"> preloader </div>
  <div id="precargador"> 


    <div style=" text-align: center;">
      <h1>Bunny dress_up</h1>
     
      <div id="porcentaje_contenedor"><div id="barra"></div>  <div id="porcentaje"></div></div>
      <div id="terminado" style="display: none;">
        <button onclick=" document.getElementById('precargador').style.display = 'none';document.getElementById('fin_precarga').style.display = 'inherit';document.getElementById('section_mascaras').style.display = 'inherit';"> iniciar </button>
      </div>
  </div>
  
   

    
  </div>
  <div id="fin_precarga" style="display: none;" >
  <div  id="principal" >
    <container> 
      <div id="capa_back" class="dress_up_part"></div>
      <div id="cola" class="dress_up_part"></div>
      <div id="base" class="dress_up_part"></div>
      <div id="pantalones" class="dress_up_part"></div>
      <div id="vestido" class="dress_up_part"></div>
      <div id="brazo_der" class="dress_up_part"></div>
      <div id="brazo" class="dress_up_part"></div>
      <div id="capa_front" class="dress_up_part"></div>
      <div id="capucha" class="dress_up_part"></div>
      <div id="orejas" class="dress_up_part"></div>
      <div id="adorno" class="dress_up_part"></div>
      <div id="mascara" class="dress_up_part"></div>
      <div style=" position: absolute;bottom: 10px;right: 10px;font-family: monospace;font-size: 14px;"> v 0.4</div>
    </container>
    <div>

      <div class="buttons_container">
        <button onclick="section_change( 'mascaras')" > mascaras </button>
        <button onclick="section_change( 'pantalones')" > pantalones </button>
        <button onclick="section_change( 'vestidos')">  vestidos </button>
        <button onclick="section_change( 'brazo')">  brazo </button>
        <button onclick="section_change( 'cola')">  cola </button>
        <button onclick="section_change( 'adorno')">  adorno </button>
        <button onclick="section_change( 'orejas')">  orejas </button>
        <button onclick="section_change( 'capa')">  capa </button>
      </div>



     <!-- mascara -->
  <!--     <div>
        <button onclick="mascara_active= false; cambiar( 'mascara','none')"> sin mascara</button>
        <button onclick="mascara_active= true; cambiar( 'mascara','mascara_1')" > mascara 1</button>
        <button onclick="mascara_active= true; cambiar( 'mascara','mascara_2')"> mascara 2</button>
        <button onclick="mascara_active= true; cambiar( 'mascara','mascara_3')"> mascara 2 con brillo</button>
      </div> -->
       <!-- cola -->
<!--       <div>
        <button onclick="cambiar( 'cola','none')"> sin cola</button>
        <button onclick="cambiar( 'cola','cola')"> cola </button>
      </div> -->
       <!-- pantalones -->
    <!--    <div>
        <button onclick="cambiar( 'pantalones','none')"> shorts </button>
        <button onclick="cambiar( 'pantalones','pantalones')"> pantalones </button>
        <button onclick="cambiar( 'pantalones','pantalones_2')"> pantalones 2 </button>
      </div> -->
       <!-- vestido -->
    <!--    <div>
        <button onclick="cambiar( 'vestido','none')"> sin vestido </button>
        <button onclick="cambiar( 'vestido','vestido')">  vestido </button>
        <button onclick="cambiar( 'vestido','vestido_2')">  vestido  2</button>
      </div> -->
       <!-- brazo -->
   <!--     <div>
        <button onclick="cambiar( 'brazo','none')"> sin brazo </button>
        <button onclick="cambiar( 'brazo','brazo')">  brazo </button>
        <button onclick="cambiar( 'brazo','brazo_2')">  brazo 2 </button>
      </div> -->
       <!-- orejas -->
   <!--     <div>
        <button onclick=" orejas_active= false; cambiar( 'orejas','none')"> sin orejas </button>
        <button onclick=" orejas_active= true; cambiar( 'orejas','orejas')">  orejas </button>
      </div> -->
       <!-- adorno -->
       <!-- <div>
        <button onclick="cambiar( 'adorno','none')"> sin adorno </button>
        <button onclick="cambiar( 'adorno','adorno')">  adorno </button>
      </div> -->



            <!-- capa -->
            <!-- <div>
              <button onclick="quitar_capa( 'none')"> sin capa </button>
              <button onclick="poner_capa( )"> capa  roja </button>
            
            </div> -->
            <div>

           
            <div id="section_mascaras" class="UI_section">
              <img src="img/UI_none.png"  onclick="cambiar( 'mascara','none')" >
              <img src="img/UI_mascara.png" onclick="cambiar( 'mascara','mascara_1')"  >
              <img src="img/UI_mascara_1.png" onclick="cambiar( 'mascara','mascara_2')" >
              <img src="img/UI_mascara_2.png" onclick="cambiar( 'mascara','mascara_3')"  >
            </div>
            <div>
              <div id="section_pantalones" class="UI_section">
                <img src="img/UI_none.png"  onclick="cambiar( 'pantalones','none')" >
                <img src="img/UI_pantalones.png" onclick="cambiar( 'pantalones','pantalones')"  >
                <img src="img/UI_pantalones_2.png" onclick="cambiar( 'pantalones','pantalones_2')"  >
              </div>
            <div  id="section_vestidos" class="UI_section">
              <img src="img/UI_none.png"  onclick="cambiar( 'vestido','none')" >
              <img src="img/UI_vestido.png" onclick="cambiar( 'vestido','vestido')" >
              <img src="img/UI_vestido_2.png" onclick="cambiar( 'vestido','vestido_2')"  >
            </div>
            <div id="section_brazo" class="UI_section">
              <img src="img/UI_none.png"  onclick="cambiar( 'brazo','none')">
              <img src="img/UI_brazo.png" onclick="cambiar( 'brazo','brazo_2')"  >
              <img src="img/UI_brazo_2.png" onclick="cambiar( 'brazo','brazo')"  >
            </div>
            <div id="section_cola" class="UI_section">
              <img src="img/UI_none.png"  onclick="cambiar( 'cola','none')" >
              <img src="img/UI_cola.png" onclick="cambiar( 'cola','cola')"  >
            </div>
            <div id="section_adorno" class="UI_section">
              <img src="img/UI_none.png"  onclick="cambiar( 'adorno','none')" >
              <img src="img/UI_adorno.png" onclick="cambiar( 'adorno','adorno')"  >
            </div>
    <div id="section_orejas" class="UI_section">
      <img src="img/UI_none.png" onclick=" orejas_active= false; cambiar( 'orejas','none')">
      <img src="img/UI_orejas.png" onclick=" orejas_active= true; cambiar( 'orejas','orejas')" >
    </div>
    <div id="section_capa" class="UI_section">
      <img src="img/UI_none.png" onclick="quitar_capa( 'none')" >
      <img src="img/UI_capa_red.png" onclick="poner_capa( )" >
    </div>
           



  </div>


  
    </div>
   

  </div>

</div>
  <script>
     var imagenes_a_cargar = [
     
     
     "base.png", 
     "brazo_der.png", 
     "cola.png", 
     "UI_cola.png",
     "brazo.png", 
     "UI_brazo.png",
     "brazo_2.png",
     "UI_brazo_2.png", 
     "pantalones.png", 
     "pantalones_2.png",
     "capucha_red.png",
     "UI_capa_red.png",
     "capa_back_red_1.png",
     "capa_back_red_2.png",
     "capa_back_red_3.png",
     "capa_front_red_1.png",
     "capa_front_red_2.png",
     "capa_front_red_3.png",
     "vestido.png", 
     "vestido_2.png",
     "brazo.png",
     "brazo_2.png",
     "orejas.png",
     "UI_orejas.png",
     "orejas_red.png",
     "mascara_1.png",
     "mascara_1_hood.png",
     "mascara_2.png",
     "mascara_2_hood.png", 
     "mascara_3.png", 
     "mascara_3_hood.png", 
     "adorno.png",
     "UI_adorno.png"
  ];


 
  function  section_change( item ){  
    document.getElementById("section_mascaras").style.display= "none";
    document.getElementById("section_pantalones").style.display= "none";
    document.getElementById("section_vestidos").style.display= "none";
    document.getElementById("section_brazo").style.display= "none";
    document.getElementById("section_cola").style.display= "none";
    document.getElementById("section_adorno").style.display= "none";
    document.getElementById("section_orejas").style.display= "none";
    document.getElementById("section_capa").style.display= "none";


    document.getElementById("section_"+ item ).style.display= "inherit";
    console.log("section_"+ item );

  }
  precarga( imagenes_a_cargar );


  porcentaje =  "0%" ;
  document.getElementById("porcentaje").innerHTML = porcentaje;
  document.getElementById("barra").style.width = porcentaje;

  var imagenes_cargadas = 0;
  var numero_total;

  function precarga( item ){ 
    // ------------- limpiar los datos para re-utilizacion -----------------
    porcentaje = "0%";
    document.getElementById("preloader").innerHTML = " ";
    imagenes_cargadas = 0;
    numero_total =  item.length;
  

    item.forEach(mostrar_imagenes_en_preloader);
    
    function mostrar_imagenes_en_preloader(item, index){
      document.getElementById("preloader").innerHTML +=    '<img  id="preloaded_element_'+ index +'" src="img/'+ item +'" >' ;
      }

    var imagenes_en_preloader = $('#preloader').children('img').map(function(){
    return $(this).attr('id');
  }).get()
  imagenes_en_preloader.forEach(precargar_imagenes);


  
  function precargar_imagenes(item, index){
    item ="#"+ item;
    $(item).on('load', function() {
      imagenes_cargadas++;
      console.log(   "cargada imagen: "+ imagenes_cargadas +" de "+ numero_total );
      // ------------- calcular y mostrar el porcentaje -----------------
      porcentaje = imagenes_cargadas* 100/  numero_total;   // saco el porcentaje de las imagenes cargadas
      porcentaje = porcentaje.toFixed() //convertir en numero entero
      porcentaje =  porcentaje + "%" ;
      document.getElementById("porcentaje").innerHTML = porcentaje;
      document.getElementById("barra").style.width = porcentaje;
      // ------------- terminado -----------------
      if( imagenes_cargadas == numero_total){
      console.log(" ");
      console.log("//carga completada//"); 
      console.log(" ");
      document.getElementById("terminado").style.display = "inherit";
    }
  })// load function
}//precargar_imagenes




   }


  </script>

<script>
  document.getElementById("base").style.backgroundImage ="url('img/base.png')";
  document.getElementById("brazo_der").style.backgroundImage ="url('img/brazo_der.png')";
  document.getElementById("brazo").style.backgroundImage ="url('img/brazo_2.png')";


//capa
  // document.getElementById("capa_back").style.backgroundImage ="url('img/capa_back_red_2.png')";
  // document.getElementById("capa_front").style.backgroundImage ="url('img/capa_front_red_2.png')";
  // document.getElementById("capucha").style.backgroundImage ="url('img/capucha_red.png')";




  // document.getElementById("pantalones").style.backgroundImage ="url('img/pantalones.png')";
  // document.getElementById("mascara").style.backgroundImage = "url('img/mascara_2.png')";

  function cambiar(a,b) {
 
   if (b == 'none') {

    document.getElementById(a).style.backgroundImage = "none";
   } else {
    
    document.getElementById(a).style.backgroundImage ="url('img/"+ b +".png')";
   }
    
   var brazo_url = document.getElementById("brazo").style.backgroundImage.slice(4, -1).replace(/"/g, "");

   if (  capa_active == true) { cambiar_capa(1) }
   if ( brazo_url == 'img/brazo_2.png' && capa_active == true ) { cambiar_capa(2)}
   if ( brazo_url == 'img/brazo.png'  && capa_active == true) { cambiar_capa(3) }


   var adorno_url = document.getElementById("adorno").style.backgroundImage.slice(4, -1).replace(/"/g, "");

if ( adorno_url == 'img/adorno.png' && capa_active == true ) {  document.getElementById("adorno").style.backgroundImage ="url('img/adorno_hood.png')";}



   var mascara_url = document.getElementById("mascara").style.backgroundImage.slice(4, -1).replace(/"/g, "");


   if ( mascara_url == 'img/mascara_1.png' && capa_active == true ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_1_hood.png')";}
   if ( mascara_url == 'img/mascara_2.png' && capa_active == true ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_2_hood.png')";}
   if ( mascara_url == 'img/mascara_3.png' && capa_active == true ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_3_hood.png')";}
   //if ( mascara_url == 'img/brazo.png'  && capa_active == true) { cambiar_capa(3) }




  if ( orejas_active == true && capa_active == true ) {  document.getElementById("orejas").style.backgroundImage ="url('img/orejas_red.png')"; }
  if ( orejas_active == true && capa_active == false ) {  document.getElementById("orejas").style.backgroundImage ="url('img/orejas.png')"; }
  
    //console.log( brazo_url );
   
  }
  var capa_active = false; 
  var mascara_active = false; 
  var orejas_active = false; 

  function poner_capa() {  

capa_active = true; 

var brazo_url = document.getElementById("brazo").style.backgroundImage.slice(4, -1).replace(/"/g, "");

if (  capa_active == true) { cambiar_capa(1) }
if ( brazo_url == 'img/brazo_2.png' && capa_active == true ) { cambiar_capa(2)}
if ( brazo_url == 'img/brazo.png'  && capa_active == true) { cambiar_capa(3) }





if ( orejas_active == true && capa_active == true ) {  document.getElementById("orejas").style.backgroundImage ="url('img/orejas_red.png')"; }


var adorno_url = document.getElementById("adorno").style.backgroundImage.slice(4, -1).replace(/"/g, "");


   if ( adorno_url == 'img/adorno.png' && capa_active == true ) {  document.getElementById("adorno").style.backgroundImage ="url('img/adorno_hood.png')";}


var mascara_url = document.getElementById("mascara").style.backgroundImage.slice(4, -1).replace(/"/g, "");


   if ( mascara_url == 'img/mascara_1.png' && capa_active == true ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_1_hood.png')";}
   if ( mascara_url == 'img/mascara_2.png' && capa_active == true ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_2_hood.png')";}
   if ( mascara_url == 'img/mascara_3.png' && capa_active == true ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_3_hood.png')";}
   //if ( mascara_url == 'img/brazo.png'  && capa_active == true) { cambiar_capa(3) }

}


  function quitar_capa() { 

    capa_active = false;

    document.getElementById("capa_back").style.backgroundImage = "none";
  document.getElementById("capa_front").style.backgroundImage ="none";
   document.getElementById("capucha").style.backgroundImage ="none";


   if ( orejas_active == true && capa_active == false ) {  document.getElementById("orejas").style.backgroundImage ="url('img/orejas.png')"; }


   var adorno_url = document.getElementById("adorno").style.backgroundImage.slice(4, -1).replace(/"/g, "");
   if ( adorno_url == 'img/adorno_hood.png' ) {  document.getElementById("adorno").style.backgroundImage ="url('img/adorno.png')";}


   var mascara_url = document.getElementById("mascara").style.backgroundImage.slice(4, -1).replace(/"/g, "");


if ( mascara_url == 'img/mascara_1_hood.png' ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_1.png')";}
if ( mascara_url == 'img/mascara_2_hood.png' ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_2.png')";}
if ( mascara_url == 'img/mascara_3_hood.png' ) {  document.getElementById("mascara").style.backgroundImage ="url('img/mascara_3.png')";}


   }

  function cambiar_capa(a) { 
    if (a == 'none') {

      document.getElementById("capa_back").style.backgroundImage = "none";
  document.getElementById("capa_front").style.backgroundImage ="none";
   document.getElementById("capucha").style.backgroundImage ="none";
} else {
     
      document.getElementById("capa_back").style.backgroundImage ="url('img/capa_back_red_"+a+".png')";
  document.getElementById("capa_front").style.backgroundImage ="url('img/capa_front_red_"+a+".png')";
   document.getElementById("capucha").style.backgroundImage ="url('img/capucha_red.png')";

   }
  }
</script>
 </body>
</html>



